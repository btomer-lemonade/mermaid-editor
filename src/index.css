@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg-primary: #ffffff;
  --bg-secondary: #f8fafc;
  --bg-tertiary: #f1f5f9;
  --text-primary: #0f172a;
  --text-secondary: #475569;
  --border-color: #e2e8f0;
  --accent: #0ea5e9;
}

.dark {
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --bg-tertiary: #334155;
  --text-primary: #f8fafc;
  --text-secondary: #94a3b8;
  --border-color: #334155;
  --accent: #38bdf8;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  font-family:
    -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
}

/* Allotment split pane styling */
.allotment-module_splitView__L-yRc {
  background-color: var(--bg-primary);
}

.allotment-module_sash__57Z61 {
  background-color: var(--border-color) !important;
  transition: background-color 0.2s ease;
}

.allotment-module_sash__57Z61:hover {
  background-color: var(--accent) !important;
}

/* Monaco editor container */
.monaco-editor-container {
  height: 100%;
  width: 100%;
}

/* Preview container */
.preview-container {
  height: 100%;
  width: 100%;
  overflow: auto;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--bg-secondary);
}

.preview-container svg {
  max-width: 100%;
  max-height: 100%;
}

/* Error display */
.error-banner {
  background-color: #fef2f2;
  border: 1px solid #fecaca;
  color: #dc2626;
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  margin: 0.5rem;
}

.dark .error-banner {
  background-color: #450a0a;
  border-color: #7f1d1d;
  color: #fca5a5;
}

/* Toolbar button styling */
.toolbar-btn {
  @apply px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200;
  @apply bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700;
  @apply hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-300 dark:hover:border-slate-600;
  @apply text-slate-700 dark:text-slate-200;
}

.toolbar-btn:active {
  @apply scale-95;
}

.toolbar-btn-primary {
  @apply bg-primary-500 hover:bg-primary-600 text-white border-primary-500;
  @apply dark:bg-primary-600 dark:hover:bg-primary-500;
}

/* Diagram type selector */
.type-selector {
  @apply flex rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700;
}

.type-selector-btn {
  @apply px-4 py-1.5 text-sm font-medium transition-all duration-200;
  @apply text-slate-600 dark:text-slate-400 bg-white dark:bg-slate-800;
  @apply hover:bg-slate-50 dark:hover:bg-slate-700;
}

.type-selector-btn.active {
  @apply bg-primary-500 text-white;
  @apply dark:bg-primary-600;
}

.kbd-key {
  @apply inline-flex items-center justify-center;
  @apply min-w-[22px] h-[22px] px-1.5;
  font-family: inherit;
  @apply text-xs font-medium;
  @apply rounded-md;
  @apply bg-slate-100 dark:bg-slate-700/80;
  @apply text-slate-700 dark:text-slate-200;
  @apply border border-slate-300 dark:border-slate-500;
  @apply shadow-[0_1px_0_1px_rgba(0,0,0,0.05)] dark:shadow-[0_1px_0_1px_rgba(0,0,0,0.3)];
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--border-color);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-secondary);
}
